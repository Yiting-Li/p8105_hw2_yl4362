p8105\_hw2\_yl4362
================

``` r
library(tidyverse)
library(readxl)
```

## Problem 1

**Read and clean the data in Mr. Trash Wheel sheet**

``` r
mr_trashwheel_df = 
  read_excel(
    "./data/Trash-Wheel-Collection-Totals-8-6-19.xlsx", 
    sheet = "Mr. Trash Wheel", 
    range = "A2:N408") %>%
  janitor::clean_names() %>%
  filter(dumpster > 0) %>%
  mutate(sports_balls = as.integer(sports_balls))
```

**Read and clean the data in Precipitation 2017 and 2018 sheets**

``` r
precipitation_2017_df = 
  read_excel(
    "./data/Trash-Wheel-Collection-Totals-8-6-19.xlsx",
    sheet = "2017 Precipitation",
    range = "A2:B14") %>%
  janitor::clean_names() %>%
  mutate(year = "2017")

precipitation_2018_df = 
  read_excel(
    "./data/Trash-Wheel-Collection-Totals-8-6-19.xlsx",
    sheet = "2018 Precipitation",
    range = "A2:B14") %>%
  janitor::clean_names() %>%
  mutate(year = "2018")

precipitation_combined_df =
  rbind(precipitation_2017_df, precipitation_2018_df)

month_df = 
  tibble(
    month = 1:12,
    month_name = month.name
  )

precipitation_combined_df = 
  left_join(precipitation_combined_df, month_df, by = "month")
```

**Datasets description**

In the `mr_trashwheel_df` dataset, there are 344 observations and 14
variables. This dataset describes the dumpsters number, the trush types
they collected, their corresponding volume collected, and the time they
were recorded.

In the `precipitation_combined_df` dataset, there are 24 observations
and 4 variables. This dataset describes the precipitation in different
months over the year of 2017 to 2018.

The total precipitation in 2018 is 70.33.

The median number of sports balls in a dumpster in 2017 is 8.

## Problem 2

**Read and clean the NYC transit data**

``` r
nyc_transit_df = 
  read_csv("./data/NYC_Transit_Subway_Entrance_And_Exit_Data.csv") %>%
  janitor::clean_names() %>%
  select(line:entry, vending, ada) %>%
  mutate(entry = recode(entry, YES = TRUE, NO = FALSE))
```

**Dataset description**

The dataset `nyc_transit_df` contains the NYC subway stations’ name,
latitude, longitude, line, routes served there, entrance and vending,
and ADA compliance.

I cleaned the variable names into a uniform style, selected the
essential variables about stations and routes, and converted the
variable `entry` from character into logical.

I think the current dataset is still not tidy because the variable
`vending` is stored as character although its values are logical: `YES`,
`NO`.

**Answers for statistical questions**

1.  There are 465 distinct stations.

2.  468 stations are ADA compliant.

3.  The proportion of entrances / exists without vending allow entrance
    is 0.0979657.

**Reform the data to distinct route number and name**

``` r
nyc_transit_df2 = 
  distinct(nyc_transit_df, line, station_name, .keep_all = TRUE)

a_station = 
  filter(nyc_transit_df2, route1 == 'A'|route2 == 'A'|route3 == 'A'|route4 == 'A'|route5 == 'A'
         |route6 == 'A'|route7 == 'A'|route8 == 'A'|route9 == 'A'|route10 == 'A'|route11 == 'A')
```

There are 60 distinct stations serve the A train.

Of the stations that serve the A train, there are 17 stations are ADA
compliant.
